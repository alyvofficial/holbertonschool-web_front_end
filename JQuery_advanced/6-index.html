<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Task 0</title>
  </head>

  <body>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script type="application/javascript">
      function createFamilyTree() {
        $("body").append(
          $("<table>").append(
            $("<thead>").append(
              $("<tr>").append(
                $("<th>").text("First Name"),
                $("<th>").text("Last Name")
              )
            ),
            $("<tbody>").append()
          )
        );
      }
    function addNewMember(firstName, lastName, position) {
      const newRow = $("<tr>").append(
        $("<td>").text(firstName),
        $("<td>").text(lastName),
        $("<td>")
        .text("x")
        .css("background-color", "orange")
        .on("click", function () {
          $(this).closest("tr").remove();
        })
      );

      if (position === "before") {
        $("tbody").prepend(newRow);
      } else {
        $("tbody").append(newRow);
      }
    }
      function createForm() {
        $("body").prepend(
          $("<form>")
            .append(
              $("<input>").attr("type", "text").attr("id", "firstName"),
              $("<input>").attr("type", "text").attr("id", "lastName"),
              $("<select>")
                .attr("id", "position")
                .append(
                  $("<option>").attr("value", "before").text("Before"),
                  $("<option>").attr("value", "after").text("After")
                ),
              $("<input>").attr("type", "submit").val("Add")
            )
            .on("submit", function (event) {
              event.preventDefault();
              addNewMember($("#firstName").val(), $("#lastName").val());
            })
        );
      }

      createFamilyTree();
      createForm();
    </script>
  </body>
</html>
